<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîí Manual Only Admin</title>
    <style>
        body { margin: 0; background: #000; font-family: sans-serif; color: white; padding: 15px; }
        .card { background: #111; padding: 15px; border-radius: 12px; margin-bottom: 10px; border: 1px solid #333; }
        .upi { color: #00c6ff; font-weight: bold; font-size: 14px; }
        .amt { font-size: 20px; font-weight: 900; float: right; }
        .btn { background: #fff; color: #000; border: none; padding: 12px; border-radius: 8px; font-weight: 900; width: 100%; margin-top: 10px; cursor: pointer; }
        .loader { text-align: center; margin-top: 50px; color: #0072ff; }
    </style>
</head>
<body>
    <div id="loading" class="loader">‚öôÔ∏è LOADING LIVE DATA...</div>
    <div id="content"></div>

    <script>
        const API = "https://panel.visioncamp.in/api.php?auth-token=8df0570da65f3a1798408c942b82839a&report=1";
        
        async function load() {
            try {
                // High-Security Proxy
                const res = await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(API)}&v=${Date.now()}`);
                const json = await res.json();
                const data = json.data || json;
                
                let html = '';
                data.reverse().forEach(lead => {
                    if(lead.status.toLowerCase() === 'approved') {
                        html += `
                        <div class="card">
                            <span class="amt">‚Çπ...</span>
                            <div class="upi">${lead.p1}</div>
                            <button class="btn" onclick="copyAndOpen('${lead.p1}')">COPY ID & OPEN APPS</button>
                        </div>`;
                    }
                });
                document.getElementById('content').innerHTML = html;
                document.getElementById('loading').style.display = 'none';
            } catch(e) { document.getElementById('loading').innerText = "‚ùå Connection Error"; }
        }

        window.copyAndOpen = function(id) {
            // 1. Sirf Copy Hoga
            navigator.clipboard.writeText(id);
            alert("‚úÖ ID Copied! Ab apna app select karein aur khud paste karein.");

            // 2. Sirf App Chooser khulega, koi data nahi jayega
            window.location.href = "upi://pay"; 
        }

        load();
    </script>
</body>
</html>
